CFLAGS = -Wall -O  -I ../../../SPOOLES.2.2 -DARCH="Linux" -DSPOOLES -DARPACK -DMATRIXSTORAGE
FFLAGS = -Wall -O 

CC=cc
FC=g77

.c.o :
	$(CC) $(CFLAGS) -c $<
.f.o :
	$(FC) $(FFLAGS) -c $<

SCCXF = \
absolute_relative.f \
add_bo_st.f \
add_pr.f \
add_sm_ei.f \
add_sm_st.f \
add_sm_st_as.f \
allocation.f \
allocont.f \
amplitudes.f \
angsum.f \
anisonl.f \
anisotropic.f \
attach.f \
beamsections.f \
bodyadd.f \
bodyforce.f \
bounadd.f \
boundaries.f \
bounrem.f \
buckles.f \
calinput.f \
carbon_seal.f \
cd_bleedtapping.f \
cd_bragg.f \
cd_chamfer.f \
cd_lab_1spike.f \
cd_lab_cdrzcdlab.f \
cd_lab_correction.f \
cd_lab_honeycomb.f \
cd_lab_radius.f \
cd_lab_reynolds.f \
cd_lab_straight.f \
cd_lichtarowicz.f \
cd_Mcgreehan_Schotsch.f \
cd_ms_ms.f \
cd_own_albers.f \
cd_pk_albers.f \
cd_pk_ms.f \
cd_preswirlnozzle.f \
cflux.f \
cfluxes.f \
changedepterm.f \
characteristic.f \
checktime.f \
chksurf.f \
cident.f \
cloads.f \
conductivities.f \
contactpairs.f \
controlss.f \
couptempdisps.f \
cp_corrected.f \
creep.f \
creeps.f \
cychards.f \
cycsymmods.f \
dashdamp.f \
dashforc.f \
dashpots.f \
dasol.f \
datest.f \
datri.f \
ddeabm.f \
ddebdf.f \
dderkf.f \
defplasticities.f \
defplas.f \
densities.f \
depvars.f \
deuldlag.f \
dflux.f \
dfluxes.f \
dgesv.f \
diamtr.f \
distattach.f \
dKdm.f \
dKdp.f \
dKdt.f \
dKdX.f \
dload.f \
dloads.f \
dot.f \
dqag.f \
dredu.f \
drfftf.f \
dsort.f \
dspgv.f \
dynamics.f \
dynamic_viscosity.f \
elastics.f \
elements.f \
elprints.f \
enthalpy.f \
envtemp.f \
equationcheck.f \
equations.f \
estimator.f \
expansions.f \
extrapolate.f \
e_c3d.f \
e_c3d_th.f \
e_c3d_rhs.f \
e_c3d_rhs_th.f \
e_damp.f \
fcrit.f \
fillknotmpc.f \
film.f \
films.f \
finpro.f \
flowresult.f \
fluidconstants.f \
fluidsections.f \
flux.f \
forcadd.f \
frd.f \
frdclose.f \
frdphase.f \
frequencies.f \
friction_coefficient.f \
fsub.f \
fsuper.f \
gaps.f \
gasmechbc.f \
gaspipe.f \
gen3dboun.f \
gen3dconnect.f \
gen3delem.f \
gen3dforc.f \
gen3dfrom1d.f \
gen3dfrom2d.f \
gen3dmpc.f \
gen3dnor.f \
gen3dprop.f \
gen3dsurf.f \
gen3dtemp.f \
gencontelem.f \
generatecycmpcs.f \
genran.f \
getnewline.f \
graph.f \
headings.f \
heattransfers.f \
hybsvd.f \
hyperelastics.f \
hyperfoams.f \
ident.f \
ident2.f \
identamta.f \
includefilename.f \
incplas.f \
initialconditions.f \
initialgas.f \
inputerror.f \
inputwarning.f \
isorti.f \
isortid.f \
isortiddc1.f \
isortiddc2.f \
isortii.f \
isortiid.f \
keystart.f \
knotmpc.f \
label.f \
labyrinth.f \
lab_straight_ppkrit.f \
limit_case_calc.f \
linel.f \
linkdissimilar.f \
lintemp.f \
lintemp_th.f \
liquidpipe.f \
liquidpump.f \
loadadd.f \
loadaddp.f \
loadaddt.f \
mafillgas.f \
mafilldm.f \
mafillsm.f \
mafillsmcs.f \
mafillsmas.f \
map3dto1d2d.f \
materialdata_me.f \
materialdata_sp.f \
materialdata_tg.f \
materialdata_th.f \
materials.f \
mechmodel.f \
modaldampings.f \
modaldynamics.f \
moehring.f \
mpcs.f \
mult.f \
nident.f \
nident2.f \
near2d.f \
near3d.f \
newton.f \
noanalysis.f \
nodalthicknesses.f \
nodeprints.f \
nodes.f \
noelfiles.f \
noelsets.f \
nonlinmpc.f \
normals.f \
norshell6.f \
norshell8.f \
number.f \
onedint.f \
onf.f \
op.f \
opcs.f \
openfile.f \
orientations.f \
orifice.f \
orthonl.f \
orthotropic.f \
out.f \
parser.f \
patch.f \
physicalconstants.f \
pk_cdc_cl1.f \
pk_cdc_cl3.f \
pk_cdc_cl3a.f \
pk_cdc_cl3b.f \
pk_cdc_cl3d.f \
pk_cdi_noz.f \
pk_cdi_r.f \
pk_cdi_rl.f \
pk_cdi_se.f \
pk_y0_yg.f \
planempc.f \
plastics.f \
plcopy.f \
plinterpol.f \
plmix.f \
polynom.f \
printout.f \
printoutelem.f \
printoutint.f \
printoutnode.f \
profil.f \
pt2_lim_calc.f \
pt2zpt1_crit.f \
radiate.f \
radiates.f \
radmatrix.f \
radresult.f \
ranewr.f \
rearrange.f \
rectcyl.f \
renumber.f \
restartread.f \
restarts.f \
restartshort.f \
restartwrite.f \
restrictor.f \
resultgas.f \
results.f \
rhs.f \
rigidbodies.f \
rigidmpc.f \
rootls.f \
rs.f \
rubber.f \
saxpb.f \
selcycsymmods.f \
shape3tri.f \
shape4q.f \
shape4tet.f \
shape6tri.f \
shape6w.f \
shape8h.f \
shape8q.f \
shape10tet.f \
shape15w.f \
shape20h.f \
shape20h_ax.f \
shape20h_pl.f \
shellsections.f \
sigini.f \
skip.f \
solidsections.f \
spcmatch.f \
specificgasconstants.f \
specificheats.f \
splitline.f \
springs.f \
springforc.f \
springstiff.f \
statics.f \
steadystatedynamics.f \
steps.f \
stiff2mat.f \
stop.f \
storeresidual.f \
str2mat.f \
straighteq2d.f \
straighteq3d.f \
straightmpc.f \
subspace.f \
surfacebehaviors.f \
surfaceinteractions.f \
surfaces.f \
temperatures.f \
tempload.f \
temploadmodal.f \
thermmodel.f \
ties.f \
timepointss.f \
transformatrix.f \
transforms.f \
triangucont.f \
triangulate.f \
ts_calc.f \
twodint.f \
uboun.f \
ucreep.f \
uenvtemp.f \
uhardening.f \
umat.f \
umatht.f \
umat_abaqus.f \
umat_abaqusnl.f \
umat_aniso_creep.f \
umat_aniso_plas.f \
umat_elastic_fiber.f \
umat_gurson.f \
umat_iso_creep.f \
umat_lin_iso_el.f \
umat_main.f \
umat_single_crystal.f \
umat_user.f \
umat_walker.f \
umpc_dist.f \
umpc_gap.f \
umpc_mean_rot.f \
umpc_user.f \
uout.f \
updatecont.f \
usermaterials.f \
usermpc.f \
utemp.f \
viewfactors.f \
viscos.f \
vortex.f \
wcoef.f \
writebv.f \
writeev.f \
writeevcs.f \
writehe.f \
writeim.f \
writeinput.f \
writempc.f \
writere.f \
writesummary.f \
zeta_calc.f

SCCXC = \
arpack.c \
arpackbu.c \
arpackcs.c \
calcresidual.c \
cascade.c \
checkconvergence.c \
checkconvgas.c \
contact.c \
dyna.c \
dynboun.c \
expand.c \
frdcyc.c \
inicont.c \
insert.c \
mastruct.c \
mastructcs.c \
matrixstorage.c \
nonlingeo.c \
pcgsolver.c \
prediction.c \
preiter.c \
prespooles.c \
radcyc.c \
radflowload.c \
readinput.c \
remastruct.c \
sgi.c \
spooles.c \
steadystate.c \
strcmp1.c \
strcpy1.c \
tau.c \
u_calloc.c

SCCXMAIN = ccx_1.7.c

OCCXF = $(SCCXF:.f=.o)
OCCXC = $(SCCXC:.c=.o)
OCCXMAIN = $(SCCXMAIN:.c=.o)

DIR=../../../SPOOLES.2.2

LIBS = \
       $(DIR)/spooles.a \
	../../../ARPACK/libarpack_INTEL.a \
       -lm

ccx_1.7: $(OCCXMAIN) ccx_1.7.a  $(LIBS)
	./date.pl; $(CC) $(CFLAGS) -c ccx_1.7.c; g77 -Wall -O -o $@ $(OCCXMAIN) ccx_1.7.a  $(LIBS)

ccx_1.7.a: $(OCCXF) $(OCCXC)
	ar vr $@ $?
                                                                               
